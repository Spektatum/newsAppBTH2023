# Apache server config

# In production mode, the http should be redirected to https
# However not on local apache because it will crash

# See configApache.txt

# Force browsers to go to secure https when run

# Should be turned on in production mode
# It forces the broswer to go to the https url
# RewriteEngine On
# RewriteCond %{HTTPS} off
# RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# The error pages
# Back to index page
ErrorDocument 404  /index.php

# Extra Security Headers :: X-security combined, https://htaccessbook.com/increase-security-x-security-headers/
<IfModule mod_headers.c>
	Header set X-XSS-Protection "1; mode=block"
	Header always append X-Frame-Options SAMEORIGIN
	Header set X-Content-Type-Options nosniff
</IfModule>

Header add Cache-Control: max-age=31536000
#Header add Access-Control-Allow-Origin: *

Header add Content-Security-Policy "default-src 'self' 'unsafe-eval' https://api.thenewsapi.com/ http://api.openweathermap.org/ https://nominatim.openstreetmap.org/; style-src 'self' https://fonts.googleapis.com/ https://fonts.gstatic.com/  https://nominatim.openstreetmap.org/; font-src https://fonts.gstatic.com/ https://fonts.googleapis.com/; object-src 'self'; img-src *;"
